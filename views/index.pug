extends ./layout

mixin intro(slice)
  .Slice.Slice--intro.clearfix.my4.pb4
    .Slice-text.col.col-5
      img.logo.mb1(src= slice.nonRepeat.logo.url, alt='' )

      .desc.novecento-condensed
        != slice.nonRepeat.text.asHtml()

    .col.col-1 &nbsp;

    .Slice-image.col.col-6
      .swiper-pagination
      .swiper-container
        .swiper-wrapper

          each item in slice.repeat.toArray()
            .swiper-slide
              img(src= item.getImage('image').url, alt='' )


mixin textLeft(slice)
  .Slice.Slice--text-left.clearfix.my4.pb4
    .Slice-text.col.col-5
      .title.novecento-bold
        != slice.nonRepeat.title.asHtml()
      .desc.novecento-condensed.my2
        != slice.nonRepeat.description.asHtml()
      a.Slice-collectionLink.mb3(href='#')
        | go to collection

      video.cinegraph.mt1(autoplay='', muted='', loop='', preload='auto', playsinline='')
        - var videoUrl = slice.nonRepeat.videoUrl ? slice.nonRepeat.videoUrl.value.url : ''
        source(src= ''+videoUrl, type='video/mp4')

    .col.col-1 &nbsp;

    .Slice-image.col.col-6
      .swiper-pagination
      .swiper-container
        .swiper-wrapper
          each item in slice.repeat.toArray()
            .swiper-slide
              img(src= item.getImage('image').url, alt='' )


mixin textRight(slice)
  .Slice.Slice--text-right.clearfix.my4.pb4
    .Slice-image.col.col-6
      .swiper-pagination
      .swiper-container
        .swiper-wrapper
          each item in slice.repeat.toArray()
            .swiper-slide
              img(src= item.getImage('image').url, alt='' )


    .col.col-1 &nbsp;

    .Slice-text.col.col-5.pl4.mxn1
      .title.novecento-bold
        != slice.nonRepeat.title.asHtml()
      .desc.novecento-condensed.my2
        != slice.nonRepeat.description.asHtml()
      a.Slice-collectionLink.mb3(href='#')
        | go to collection
      video.cinegraph.mt1(autoplay='', muted='', loop='', preload='auto', playsinline='')
        - var videoUrl = slice.nonRepeat.videoUrl ? slice.nonRepeat.videoUrl.value.url : ''
        source(src= ''+videoUrl, type='video/mp4')

block body

  .content.home

    div.max-width-4.mx-auto
      if layoutContent != null
        header.nav.novecento-normal.flex.items-center.justify-between.my3
          a.menu(href= '#')
            != layoutContent.getText('layout.menuLabel')
          //- include ./partials/menu
          a(href='/')
            img.logo(src= layoutContent.getImage('layout.logo').url, alt='enlite vision' )
          a.shop(href= '#')
            != layoutContent.getText('layout.shopLabel')


      - var sliceZone = pageContent.getSliceZone('home-page.body') || {}
      for slice in sliceZone.slices

        case slice.sliceType
          when 'intro'
            + intro(slice)
          when 'text-left'
            + textLeft(slice)
          when 'text-right'
            + textRight(slice)
